---
---
Я купил SP404MK2 и мне не очень понравилось как тамошние фильтры звучат, я решил сделать ресемплер на телефоне, чтобы использовать фильтры, которые я захочу. Это сделать довольно просто, можно подключить сэмплер по USB к телефону и они по протоколу USB audio установят дуплекс стерео соединение, то есть аудио можно в обе стороны слать. Я подумал, что будет прикольно сделать приложение, это зародыш пока, но это риалтайм C++ аудио приложение, которе может обрабатывать аудио с любых источников(микрофон или тоже самое USB audio).

Идея такая, я беру звук из SP404MK2, записываю в FxResampler, там применяю эффект, которого на SP404MK2 нет и загоняю это аудио назад, все это одним кабелем.

![FxResampler interface]({{site.url}}/assets/images/FxResampler.png){:.clickableimg}
Вместо бирюзового должна скоро быть форма волны.

Пока что там 2 эффекта только, пружинный ревербератор(я просто попросил чат гпт сделать мне код по моей спецификации) и biquad filter(я взял в интернете, но атрибутику кода сохраню когда\если выложу) и все это нативное андроид приложение с обработкой в C++ c помощью библиотеки Oboe, для риалтайм аудио.

Почему делать свое приложение это вообще может не оверкил(это оверкил), потому что даже чтобы отфильтровать звук на SP404MK2 тебе нужно делать ресеплирование потому что 2 эффекта одновременных на весь проект скорее всего понадобятся для чего-то другого более важного, чем просто подрезать низ у хета. Поэтому все требует ресэмплинга, то есть ты коммитишься на какое-то звучание, потому что даже эффект если применен на пад, то он не сохранен в проекте, это как бы стейт самого сэмплера, так что тебе всегда нужно все ресеплировать чтобы зафиксировать результат. Поэтому показалось не плохо сделать такое приложение. 

Этот мем был запощен на пикабу в 12 году, все еще про меня.
![science meme]({{site.url}}/assets/images/science_meme.png){:.clickableimg}

Фильтр в FxResampler работает уже хорошо, но звучит не лучше встроенного, так что на SP404MK2 скорее всего такойж бикубический фильтр.
Вот, кстати, [статья о таких фильтрах](https://en.wikipedia.org/wiki/Digital_biquad_filter), там формулы, я такое понимать не способен. Хотелось бы научиться, конечно...

Неочевидная мысль следует такая: полосные фильтры или эквалайзеры могут звучать иначе потому что у них просто банально по-разному выставлена базовая частота, то есть трех полосный эквалайзер НИЗ, СЕРЕДИНА, ВЕРХ может иметь разные частоты и разные показатели добротности у разных производителей, что уже влияет на звук, не говоря уж о схематике фильтра. 
Вот еще статья на тему(я не знаю кому это нужно) от производителя Rane(я их знаю по диджейским пультам): [Constant-Q Graphic Equalizers](https://www.ranecommercial.com/legacy/note101.html)

Это вообще не первое мое столкновение с риалтайм мобильным аудио, я до этого делал сэмплер(опять, да) типа Koala на библиотеке JUCE, на ней вообще все интерфейсы VST и все плагины больших производителей работают, наверное. 
Сам коала очень выглядит как JUCE приложение.
Выглядит это вот так и имеет претенциозное название Banger
![Banger]({{site.url}}/assets/images/Banger.jpg){:.clickableimg}

Оно тоже хорошо и отзывчиво работает, можно загружать свои сэмплы и настраивать огибающую для каждого сэмпла, я иногда до сих пор захожу просто побарабанить в него.

Про дебаггинг этого добра: Оказалось очень удобным устанавливать android debug bridge по WiFi, работает классно и все еще быстрее эмулятора(намного), еще бережет батарею, а это мое JUCE приложение Banger можно вовсе запускать на винде(очень ускоряет дебаггинг), можно и маке тоже, но у меня нет его. 