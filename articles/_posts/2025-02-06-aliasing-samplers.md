---
layout: post
title: Ммм, звуки ошибок
tags: daw aliasing dsp hip-hop ru
---
Немного про алиасинг и эстетику funky rap records.
![low pass filtering in ADC]({{site.url}}/assets/images/low_pass.svg){:.clickableimg}

<!--more-->
На днях пытался нарисовать алиасинг, но не смог нормально, вот минутное видео с аудио примером чтобы разобраться.
<iframe width="560" height="315" src="https://www.youtube.com/embed/--P0ZsbzJSw?si=ReJNNqAZylaOGHjC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

Этим объясняется тот самый sampler ring(звенящий звук), когда ты используешь старые сэмплеры. 
А работали с ними так:
1. Памяти там мало, поэтому воспроизводим пластинку на большей скорости чем нужно.
2. Записываем в сэмплер на большой скорости.
3. Понижаем скорость сэмпла уже в сэмплере, занимает такой же объем данных, но больше секунд аудио материала влезло.


Звучит в музыкальном контексте это так
<iframe width="560" height="315" src="https://www.youtube.com/embed/3yNDWUp-YQg?si=wzuY96P2ltqKcFiM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


Эта манипуляция понижала частоту Найквиста(грубо говоря, на единицу времени было слишком мало информации, это как растянуть жвачку) и появлялся алиасинг(артефакты). В начале хип-хопа [E-mu SP-1200](https://en.wikipedia.org/wiki/E-mu_SP-1200) имел немного памяти и этот воркфлоу был просто необходимостью, а с ним бонусом шел звук алиасинга, потом это стало модно и люди стали имитировать этот эффект, народная любовь к новому Roland P6 тому подтверждение, тот же SP-1200 в 1987 стоил 3000$, а переиздание в 2021 году было с ценой для ностальгирующих особенно сильно - 4000$.
<br>
Я уже писал про моды для рековых AKAI, где люди отключали лоупас фильтр в ADC, это как раз для того чтобы сэмплер зазвенел. Почему вообще на входе ADC стоит лоупас фильтр? Чтобы в сигнале не было частот выше, чем частота найквиста -> чтобы не было алиасинга -> чтобы реконструированный в диджитале сигнал был чище. Как я понимаю, это просходит вообще во всех ADC конвертерах.

![low pass filtering in ADC]({{site.url}}/assets/images/low_pass.svg){:.clickableimg}
>На картинке: белый - оригинальный сигнал, синий - оцифрованный сигнал. Красные точки - это моменты когда звук сэмплируется, то есть берется сэмпл, например 44.1 кГц на CD дисках. Сверху сигнал без лоу пас фильтра, снизу с лоу пас фильтром. После лоу пас фильтра сигнал становится более гладким(высокочастотные колебания устранены) и поэтому ошибок с данной частотой дискретизации(вертикальные полоски) получилось меньше и синяя линия реконструированного сигнала снизу больше похожа на оригинальный сигнал.

44.1 кГц для CD выбрано не случайно, потому что если мы посчитаем частоту когда алиасинг будет появляться для этой частоты дискретизации, то это будет только после 22050гц, то есть за пределами восприятия человека(по оптимистичным оценкам 16 — 20000 ГЦ). Так что даже если алиасинг и будет присутствовать в сигнале, то он будет "сдвинут" за пределы слышимости, все эти моды и олд скул методы работы просто сдвигают этот эффект более к середине слышимого диапазона.
<br>
Этот звенящий звук приятен и характерен для хипхопа и ценится т.к. звучит аутентично временному периоду, вообще это просто артефакт, но так как этот артефакт добавляет еще гармоник, то звук становится богаче и интереснее, поэтому, наверное, люди любят его, ну и конечно воспомнинания о золотой эре. Усиливает эффект то, что старые сэмплеры 12 битные, так что когда артефакт происходит, то эффект более заметен.
<br>
Люди, уже давно преодолели порог качества ранних цифровых сэмплеров типа [Emulator](https://en.wikipedia.org/wiki/E-mu_Emulator) и [Fairlight](https://en.wikipedia.org/wiki/Fairlight_CMI) и кассет, но всегда происходит одно и то же: мы преодолеваем ограничения медиума и потом пытаемся повторить недостатки этого медиума. Эмуляции кассет, эмуляции MP3 кодека(MP3 оказывется тоже алгоритм психоакустический как и ATRAC на мини дисках), помехи сети, эффект VHS и так далее. 

Про "funky rap records". Нашел эту фразу в этом видео с молодым Ice Cube и SP1200.
<iframe width="560" height="315" src="https://www.youtube.com/embed/HKRgNO_X8nc?si=G4DS3yXhyCOtmpCV" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

В приличном обществе все это я бы не пересказывал, я только сам разбираюсь сейчас.